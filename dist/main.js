(()=>{"use strict";class e{constructor(e){this.projectName=e,this.toDoList=[],this.doneList=[],this.projectID="pID:"+o(16)}}class t{constructor(e,t,n,i,c){this.title=e||"No title",this.dueDate=t||"none",this.project=n||"Inbox",this.projectID=i||"none",this.priority=c||"None",this.todoID="tdID:"+o(16),this.notes="",this.state="notDone"}makeNotes(e){this.notes=e}}const o=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=t.length;let n="";for(let i=1;i<=e;i++)n+=t.charAt(Math.floor(Math.random()*o)),i%4==0&&i!==e&&(n+="-");return n},n=()=>{let o=new e("Inbox");for(let e=0;e<3;e++){const e=new t("Example todo");e.project=o,e.projectID=o.projectID,e.notes="Hello there. General Kenobi, ah what a pleasant surprise. *cough cough*",e.priority="Low",console.log(o.toDoList),o.toDoList.push(e)}i.addNew(o),c.updateList()},i={addNew:e=>{console.log(d.list),0===d.list.filter((t=>t.projectID===e.projectID)).length&&d.list.push(e),console.log(d.list),console.log("-|-add new over-|-")}},c={updateList:()=>{d.list.forEach((e=>{e.toDoList.forEach((e=>{const t=r.list.filter((t=>t.todoID===e.todoID));console.log("existCheck "+t),0===t.length&&r.list.push(e)}))}))},addNew:e=>{0===r.list.filter((t=>t.todoID===e.todoID)).length&&r.list.push(e)}},d={list:[]},r={list:[]},s=()=>{const e=document.getElementById("sideBarList"),t=document.createElement("h1");t.id="projectListAllToDos",t.classList.add("projectListText","projectListTitle","sideBarList","viewingContent"),t.textContent="All ToDo's",e.appendChild(t);const o=document.createElement("h1");o.id="projectsListTitle",o.classList.add("projectListText","projectListTitle","sideBarList"),o.textContent="> Projects",e.appendChild(o),o.addEventListener("click",p);const n=document.createElement("ul");n.id="projectList",n.classList.add("hidden"),e.appendChild(n),u()},l=()=>{const e=document.getElementById("projectSideList");e.classList.remove("visibleSideBar"),e.classList.add("hiddenSideBar"),console.log("removeeventlistener");const t=document.querySelector(".hamburgerNavIcon");t.removeEventListener("click",l),t.addEventListener("click",a)},a=()=>{const e=document.getElementById("projectSideList");e.classList.remove("hiddenSideBar"),e.classList.add("visibleSideBar");const t=document.querySelector(".hamburgerNavIcon");t.removeEventListener("click",a),t.addEventListener("click",l)},m=()=>{document.getElementById("projectList").classList.add("hidden");const e=document.getElementById("projectsListTitle");e.textContent="> Projects",e.removeEventListener("click",m),e.addEventListener("click",p)},p=()=>{document.getElementById("projectList").classList.remove("hidden");const e=document.getElementById("projectsListTitle");e.textContent="V Projects",e.addEventListener("click",m)},u=()=>{const e=document.querySelector("#projectList");d.list.forEach((t=>{const o=document.createElement("li");o.classList.add("projectListItem"),o.id=`${t.projectID}`,o.textContent=`${t.projectName}`,e.appendChild(o),o.addEventListener("click",I.bind())}));const t=document.createElement("li");t.id="newProjectButtonHolder",e.appendChild(t);const o=document.createElement("div");o.id="newProjectButton",o.innerHTML="<p class='buttonText'>New Project</p>",t.appendChild(o),o.addEventListener("click",g)},g=()=>{const e=document.getElementById("newProjectButtonHolder"),t=document.getElementById("newProjectButton");t.removeEventListener("click",g),t.innerHTML="<p class='buttonText'>Add Project</p>";const o=document.createElement("div");o.id="newProjectCreator",o.innerHTML="<input id='newProjectNameInput' value='Enter project name'></input>",e.insertAdjacentElement("beforebegin",o);const n=document.getElementById("newProjectNameInput");n.addEventListener("focus",y),n.addEventListener("keypress",(e=>{"Enter"===e.key&&""!==n.value&&"Enter project name"!==n.value&&v()})),t.addEventListener("click",v)},v=()=>{const t=h();console.log(t);let o=new e(t);console.log(o),i.addNew(o),L(),u()},L=()=>{const e=document.getElementById("projectList");E(e)},E=e=>{for(console.log(e);e.firstChild;)e.removeChild(e.firstChild)},y=()=>{const e=document.getElementById("newProjectNameInput");"Enter project name"===e.value&&(console.log("clearing input"),e.value="",e.removeEventListener("focus",y))},h=()=>(console.log("made it"),document.getElementById("newProjectNameInput").value),I=e=>{const t=e.target;console.log(t.textContent),document.getElementById("projectListAllToDos").addEventListener("click",N),j(),w(t),k(),f(t.textContent),M(t.textContent)},C=()=>{const e=document.getElementById("todoListNav"),t=document.createElement("img");t.classList.add("hamburgerNavIcon"),t.src="../src/images/icons/hamburgerNavIcon.svg",e.appendChild(t),t.addEventListener("click",l);const o=document.createElement("h1");o.id="todoListProjectName";const n=document.querySelector(".viewingContent").textContent;o.textContent=n,e.appendChild(o);const i=document.createElement("input");i.id="newTodoInput",i.type="search",i.name="newTodoInput",i.defaultValue="Enter a new ToDo item",e.appendChild(i),i.addEventListener("click",D),i.addEventListener("keyup",B)},j=()=>{document.querySelector(".viewingContent")&&document.querySelector(".viewingContent").classList.remove("viewingContent")},w=e=>{e.classList.add("viewingContent")},k=()=>{const e=document.getElementById("todoListProjectName"),t=document.querySelector(".viewingContent").textContent;e.textContent=t},f=e=>{const t=document.getElementById("newTodoInput"),o=document.querySelector(".viewingContent").textContent;t.defaultValue=`Enter a new ToDo item in ${o}`},D=()=>{const e=document.getElementById("newTodoInput");console.log("clearing input"),e.value="",e.removeEventListener("click",D);const t=document.createElement("div");t.id="inputPageBackground",document.querySelector("#content").appendChild(t),t.addEventListener("click",T)},T=()=>{document.querySelector("#inputPageBackground").remove();const e=document.getElementById("newTodoInput");""===e.value&&(e.value="Enter a new ToDo item",e.addEventListener("click",D))},B=e=>{if("Enter"===e.key&&""!==newTodoInput.value){const e=(()=>{const e=document.getElementById("newTodoInput"),t=e.value;return e.value="",console.log(t),t})();S(e)}},S=e=>{console.log("in addNewToDo");let o=document.querySelector(".viewingContent").textContent;"All ToDo's"===o&&(o="Inbox"),console.log(o),d.list.forEach((n=>{if(n.projectName===o){console.log("in adding to projects");const o=new t(e,"",n,n.projectID);n.toDoList.push(o),c.updateList(),console.log(d),console.log("allTodos"),console.log(r)}})),b(),console.log(d.list)},N=()=>{const e=document.getElementById("projectListAllToDos");e.removeEventListener("click",N),j(),e.classList.add("viewingContent"),(()=>{const e=document.getElementById("todoListProjectName"),t=document.querySelector(".viewingContent");e.textContent=t.textContent})(),document.getElementById("newTodoInput").defaultValue="Enter a new ToDo item";const t=document.querySelector("#todoListTodosHolder");E(t),x()},x=()=>{d.list.forEach((e=>{if(q(e),0!==e.toDoList.length){const t=document.querySelector(`#${e.projectName}ListDiv`);t.classList.add("projectToDoList"),console.log(t);const o=document.createElement("p");o.textContent=`${e.projectName}`,o.classList.add("projectDivName"),t.appendChild(o),t.insertAdjacentElement("afterbegin",o),o.addEventListener("click",I.bind())}}))},M=e=>{const t=document.querySelector("#todoListTodosHolder");E(t),d.list.filter((t=>t.projectName===e)).forEach((e=>q(e)))},q=e=>{console.log("in buildToDoList");const t=document.querySelector("#todoListTodosHolder"),o=document.createElement("div");o.id=`${e.projectName}ListDiv`,t.appendChild(o);const n=document.createElement("div");n.id=`${e.projectName}ToDoList`,o.appendChild(n),e.toDoList.forEach((t=>P(t,e)))},P=(e,t)=>{console.log("in buildTodoItem");const o=document.querySelector(`#${t.projectName}ToDoList`),n=document.createElement("div");n.classList.add("todo",`todoPriority${e.priority}`),n.dataset.todoid=e.todoID;const i=document.createElement("div");i.classList.add("todoMain"),n.appendChild(i);const c=document.createElement("p");c.classList.add("todoText"),c.textContent=e.title,i.appendChild(c),e.dueDate;const d=document.createElement("p");d.textContent="X",d.classList.add("removeX"),n.appendChild(d),d.addEventListener("click",H),o.appendChild(n),i.addEventListener("click",A)},b=()=>{console.log("in updateToDoList");const e=document.querySelector("#todoListTodosHolder");let t=document.querySelector(".viewingContent").classList;t.contains("projectListItem")?(console.log("projectListItem"),E(e),M(currentProject)):t.contains("sideBarList")&&(console.log("sideBarList"),E(e),x())},H=e=>{console.log(e)},A=e=>{let t="";console.log("checking for .viewingInformation"),document.querySelector(".cacheView")?(console.log("in cacheView"),t=document.querySelector(".cacheView"),t.classList.remove("cacheView"),t.classList.add("viewingInformation")):document.querySelector(".viewingInformation")?(console.log("hasviewinginfo"),document.querySelector(".viewingInformation").classList.remove("viewingInformation"),t=e.target.parentNode):t=e.target.parentNode,console.log("toDoDiv"),console.log(t);const o=document.getElementById("todoInformationHeader"),n=document.getElementById("todoInformationContent"),i=document.getElementById("todoInformationFooter");E(o),E(n),E(i),console.log("made it"),t.classList.contains("todoMain")&&(t=t.parentNode),t.classList.add("viewingInformation");const c=t.dataset.todoid,d=X(c),r=document.createElement("input");r.id="todoInformationTitle",r.type="text",r.defaultValue=d.title,o.appendChild(r);const s=document.createElement("div");s.id="todoPrioritySelectorDiv",n.appendChild(s),s.innerHTML="<div id='prioritySelectorMarks'>\n        <p id='priorityMark1' class='priorityMark'>!</p>\n        <p id='priorityMark2' class='priorityMark'>!</p>\n        <p id='priorityMark3' class='priorityMark'>!</p>\n    </div>",s.classList.add(`currentPriority${d.priority}`),s.addEventListener("click",V);const l=document.createElement("div");l.id="todoInformationNotes",n.appendChild(l);const a=document.createElement("h1");a.id="todoInformationNotesName",a.textContent="Notes",l.appendChild(a);const m=document.createElement("p");m.id="todoInformationNotesText",""===d.notes?m.textContent="No notes yet, add some by clicking here":m.textContent=d.notes,l.appendChild(m),m.addEventListener("click",G);const p=document.createElement("div");p.id="changeProjectDiv",i.appendChild(p)},V=()=>{const e=document.querySelector("#todoPrioritySelectorDiv");console.log("change priority"),e.removeEventListener("click",V),e.addEventListener("click",$),e.classList.add("selectingPriority"),e.innerHTML="<div id='prioritySelectorMarks'>\n        <p id='priorityMark1' class='priorityMark'>!</p>\n        <p id='priorityMark2' class='priorityMark'>!</p>\n        <p id='priorityMark3' class='priorityMark'>!</p>\n    </div>\n    <div id='prioritySelectorChoices'>\n        <p id='priorityNone' class='priorityButton'>None</p>\n        <p id='priorityLow' class='priorityButton'>Low</p>\n        <p id='priorityMedium' class='priorityButton'>Medium</p>\n        <p id='priorityHigh' class='priorityButton'>High</p>\n\n    </div>",document.querySelectorAll(".priorityButton").forEach((e=>{e.addEventListener("click",F)}))},$=()=>{const e=document.querySelector("#todoPrioritySelectorDiv");e.classList.remove("selectingPriority"),e.innerHTML="<div id='prioritySelectorMarks'>\n        <p id='priorityMark1' class='priorityMark'>!</p>\n        <p id='priorityMark2' class='priorityMark'>!</p>\n        <p id='priorityMark3' class='priorityMark'>!</p>\n    </div>",e.addEventListener("click",V)},F=e=>{const t=e.target.textContent;console.log(t),document.querySelector(".viewingInformation");const o=document.querySelector(".viewingInformation").dataset.todoid;console.log("changeTask ID next"),console.log(o);let n=X(o);n.priority=t,console.log(n),console.log(d.list),r.list.forEach((e=>{console.log(e.priority)})),b(),console.log("afterUpdate");const i=document.querySelector(`[data-todoid = '${o}']`);console.log("newDoDiv"),i.classList.add("cacheView"),i.classList.remove("viewingInformation"),console.log(i),A()},X=e=>{let t="";if(r.list.forEach((o=>{o.todoID===e&&(e=>{t=e})(o)})),""!==t)return t},G=()=>{const e=document.getElementById("todoInformationNotes"),t=document.getElementById("todoInformationNotesText"),o=t.textContent;t.remove();const n=document.createElement("textarea");n.id="todoInformationNotesInput",n.type="text",n.value=o,e.appendChild(n)},K=()=>{(()=>{const e=document.querySelector("#content"),t=document.createElement("div");t.id="projectSideList";const o=document.createElement("div");o.id="todoList";const n=document.createElement("div");n.id="todoInformation",e.append(t,o,n),(()=>{const e=document.getElementById("projectSideList"),t=document.createElement("ul");t.id="sideBarList",e.appendChild(t),s()})(),(()=>{const e=document.querySelector("#todoList"),t=document.createElement("div");t.id="todoListNav";const o=document.createElement("div");o.id="todoListTodosHolder",e.append(t,o),C(),N()})(),(()=>{const e=document.querySelector("#todoInformation"),t=document.createElement("div");t.id="todoInformationHeader",e.appendChild(t);const o=document.createElement("div");o.id="todoInformationContent",e.appendChild(o);const n=document.createElement("div");n.id="todoInformationFooter",e.appendChild(n)})()})()};n(),K(),console.log("All Todos:"),console.log(r.list),console.log("All Projects:"),console.log(d.list)})();